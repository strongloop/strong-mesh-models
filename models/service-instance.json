{
  "name": "ServiceInstance",
  "base": "PersistedModel",
  "description": "Represents an instance of a service running inside a container",
  "properties": {
    "id": {
      "type": "string",
      "index": true,
      "id": true
    },
    "restartCount": {
      "type": "number",
      "description": "The number of time the supervisor process for this instance was killed or has crashed and had to be restarted"
    },
    "containerVersionInfo":{
      "type": "object",
      "description": "Information about the host, operating system, node version and container technology hosting this instance"
    },
    "setSize": {
      "type": "number",
      "default": 0,
      "description": "The currently configured number of node processes that the instance should be running"
    },
    "applicationName": {
      "type": "string",
      "description": "The application name that strong-agent uses to report its metrics"
    },
    "npmModules": {
      "type": "object",
      "description": "NPM package and sub-module information"
    },
    "agentVersion": {
      "type": "string",
      "description": "The version of strong-agent running on this instance"
    }
  },
  "relations": {
    "actions": {
      "type": "hasMany",
      "model": "Action"
    },
    "processes": {
      "type": "hasMany",
      "model": "ServiceProcess"
    },
    "metrics": {
      "type": "hasMany",
      "model": "ServiceMetric"
    },
    "profileDatas": {
      "type": "hasMany",
      "model": "ProfileData",
      "description": "List of cpuprofile or heapdumps gathered for this service"
    },
    "serviceContainer": {
      "type": "belongsTo",
      "model": "ServiceContainer",
      "description": "The container this instance is running within"
    }
  },
  "acls": []
}
